(this["webpackJsonpExpress-React-CMS-Admin"]=this["webpackJsonpExpress-React-CMS-Admin"]||[]).push([[0],{154:function(e,t,a){e.exports=a(365)},364:function(e,t,a){},365:function(e,t,a){"use strict";a.r(t);a(155),a(120);var n=a(0),c=a.n(n),r=a(88),l=a.n(r),i=a(150),o=a(28),s=a(367),m=a(1),u=a(33),p=a(4),d=a.n(p),v=a(49),E=a(366),f=function(){return c.a.createElement(v.Helmet,null,c.a.createElement("link",{href:"https://fonts.googleapis.com/css?family=Work+Sans:400,500,700",rel:"stylesheet"}),c.a.createElement("link",{rel:"stylesheet",href:"https://use.fontawesome.com/releases/v5.8.2/css/all.css",integrity:"sha384-oS3vJWv+0UjzBfQzYUhtDYW+Pj2yciDJxpsK1OYPAYjqT085Qq/1cq5FLXAZQ7Ay",crossOrigin:"anonymous"}),c.a.createElement("link",{rel:"icon",href:"/media/favicon.ico",type:"image/x-icon"}),c.a.createElement("link",{rel:"shortcut icon",href:"/static/media/favicon.ico",type:"image/x-icon"}))},g="http://mullinashley.com",h="http://mullinashley.com/static/images/",b=c.a.memo((function(e){var t=Object(n.useState)(null),a=Object(m.a)(t,2),r=a[0],l=a[1],i=Object(E.a)(["signedIn"]),o=Object(m.a)(i,2),s=o[0];o[1];return Object(n.useEffect)((function(){!function(){var e,t,a;d.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return e="/"===window.location.pathname?"/":window.location.pathname,n.next=3,d.a.awrap(fetch(g+e));case 3:return t=n.sent,n.next=6,d.a.awrap(t.json());case 6:a=n.sent,l(a);case 8:case"end":return n.stop()}}))}()}),[]),r?s.signedIn?c.a.createElement("div",{className:"page page-admin"},c.a.createElement(v.Helmet,null,c.a.createElement("meta",{charSet:"utf-8"}),c.a.createElement("title",null,r.title),c.a.createElement("meta",{name:"description",content:""}),c.a.createElement("meta",{property:"og:locale",content:"en_US"}),c.a.createElement("meta",{property:"og:type",content:"website"}),c.a.createElement("meta",{property:"og:title",content:r.title}),c.a.createElement("meta",{property:"og:description",content:""}),c.a.createElement("meta",{property:"og:image",content:""})),c.a.createElement(f,null),c.a.createElement("div",{className:"pa-container"},c.a.createElement("p",{className:"breadcrumbs",dangerouslySetInnerHTML:{__html:r.breadcrumbs}}),c.a.cloneElement(e.children,Object(u.a)({},r)))):"/admin/signin"===window.location.pathname?c.a.createElement("div",{className:"page page-admin"},c.a.createElement(v.Helmet,null,c.a.createElement("meta",{charSet:"utf-8"}),c.a.createElement("title",null,r.title),c.a.createElement("meta",{name:"description",content:""}),c.a.createElement("meta",{property:"og:locale",content:"en_US"}),c.a.createElement("meta",{property:"og:type",content:"website"}),c.a.createElement("meta",{property:"og:title",content:r.title}),c.a.createElement("meta",{property:"og:description",content:""}),c.a.createElement("meta",{property:"og:image",content:""})),c.a.createElement(f,null),c.a.createElement("div",{className:"pa-container"},c.a.createElement("p",{className:"breadcrumbs",dangerouslySetInnerHTML:{__html:r.breadcrumbs}}),c.a.cloneElement(e.children,Object(u.a)({},r)))):void window.location.replace("/admin/signin"):null})),y=c.a.memo((function(e){var t=e.title,a=e.desc,n=e.link;return c.a.createElement("a",{className:"ad-single",href:"/admin/"+n},c.a.createElement("h2",null,t),c.a.createElement("p",null,a))})),w=c.a.memo((function(e){var t=e.role,a=Object(E.a)(["signedIn","role"]),n=Object(m.a)(a,2),r=n[0];n[1];return c.a.createElement("div",{className:"admin-dashboard"},c.a.createElement(y,{title:"Pages",desc:"Review and edit page content displayed on the website.",link:"pages"}),c.a.createElement(y,{title:"Support",desc:"Contact Mullin/Ashley for support at support@mullinashley.com",link:"#"}),c.a.createElement(y,{title:"Sign Out",desc:"Click to sign out of the administrator dashboard.",link:"signout"}),c.a.createElement(y,{title:"Events",desc:"Review upcoming and past events, and create new events.",link:"events"}),c.a.createElement(y,{title:"Blog",desc:"Create new blog posts or review/edit existing posts.",link:"blog"}),c.a.createElement(y,{title:"News",desc:"Create new news posts or review/edit existing posts.",link:"news"}),c.a.createElement(y,{title:"Media",desc:"Review and upload new files.",link:"media"}),c.a.createElement(y,{title:"Alerts",desc:"Review and create alerts to be displayed to visitors on the website.",link:"alerts"}),c.a.createElement(y,{title:"Metadata",desc:"The behind-the-scenes context effecting SEO of each web page.",link:"meta"}),c.a.createElement(y,{title:"Queries",desc:"Review user queries that have been submitted to the website.",link:"queries"}),c.a.createElement(y,{title:"Resources",desc:"Tips and tricks to help you with your website.",link:"resources"}),"approved"!==t&&c.a.createElement(y,{title:"Admins",desc:"View and approve/revoke administrator access.",link:"admins"}),"super"===r.role&&c.a.createElement(y,{title:"New Page",desc:"For super users, add a new page.",link:"new-page"}))})),N=c.a.memo((function(e){return Object(n.useEffect)((function(){"ip"===e.name&&function(t){var a,n;d.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,c.next=3,d.a.awrap(fetch(t));case 3:return a=c.sent,c.next=6,d.a.awrap(a.json());case 6:n=c.sent,e.updateValue(n.ip),c.next=13;break;case 10:return c.prev=10,c.t0=c.catch(0),c.abrupt("return",null);case 13:case"end":return c.stop()}}),null,null,[[0,10]])}("https://jsonip.com")}),[e]),c.a.createElement("label",{htmlFor:e.inputName},e.name,c.a.createElement("input",{type:e.type,name:e.inputName,required:!!e.required&&e.required,onChange:function(t){return e.updateValue(t)},defaultValue:e.value?e.value:""}))})),k=function(e,t){var a,n,c,r=arguments;return d.a.async((function(l){for(;;)switch(l.prev=l.next){case 0:return a=r.length>2&&void 0!==r[2]?r[2]:"POST",l.next=3,d.a.awrap(fetch(g+e,{method:a,headers:{"Content-Type":"application/json"},body:JSON.stringify({data:t})}));case 3:return n=l.sent,l.next=6,d.a.awrap(n.json());case 6:return c=l.sent,l.abrupt("return",c);case 8:case"end":return l.stop()}}))},j=function(){var e=Object(E.a)(["signedIn","role"]),t=Object(m.a)(e,2),a=(t[0],t[1]),r=Object(n.useState)(!1),l=Object(m.a)(r,2),i=l[0],o=l[1],s=Object(n.useState)(""),u=Object(m.a)(s,2),p=u[0],v=u[1],f=Object(n.useState)(""),g=Object(m.a)(f,2),h=g[0],b=g[1],y=Object(n.useState)(""),w=Object(m.a)(y,2),j=w[0],O=w[1];return c.a.createElement("form",{onSubmit:function(e){return function(e){e.preventDefault(),function(){var e;d.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,d.a.awrap(k("/admin/signin",{email:p,password:h,ip:j}));case 2:(e=t.sent).success?(a("signedIn",!0,{path:"/"}),a("role",e.role,{path:"/"}),window.location.replace("/admin")):o(!0);case 4:case"end":return t.stop()}}))}()}(e)}},i?c.a.createElement("p",{className:"wrong-password"},"There was an error with your credentials. Do you want to",c.a.createElement("a",{href:"/admin/reset-password"}," reset your password"),"?"):null,c.a.createElement("div",{style:{display:"none"}},c.a.createElement(N,{type:"text",name:"ip",inputName:"ip",updateValue:function(e){return O(e)}})),c.a.createElement(N,{type:"email",name:"Email Address",inputName:"email_address",required:!0,updateValue:function(e){return v(e.target.value)}}),c.a.createElement(N,{type:"password",name:"Password",inputName:"password",required:!0,updateValue:function(e){return b(e.target.value)}}),c.a.createElement("input",{type:"submit",value:"Sign In"}))},O=function(e){var t=Object(n.useState)(!1),a=Object(m.a)(t,2),r=a[0],l=a[1],i=Object(n.useState)(!1),o=Object(m.a)(i,2),s=o[0],u=o[1],p=Object(n.useState)(""),v=Object(m.a)(p,2),E=v[0],f=v[1],g=Object(n.useState)(""),h=Object(m.a)(g,2),b=h[0],y=h[1],w=Object(n.useState)(""),j=Object(m.a)(w,2),O=j[0],S=j[1],C=Object(n.useState)(""),x=Object(m.a)(C,2),I=x[0],T=x[1],_=Object(n.useState)(""),A=Object(m.a)(_,2),q=A[0],D=A[1],M=Object(n.useState)(""),V=Object(m.a)(M,2),P=V[0],L=V[1];return c.a.createElement("form",{onSubmit:function(e){return function(e){e.preventDefault(),function(){var e;d.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,d.a.awrap(k("/admin/signup",{first:E,last:b,email:O,password:I,ip:q,url:P}));case 2:e=t.sent,l(!0),e.success||u(!0);case 5:case"end":return t.stop()}}))}()}(e)}},r&&s&&c.a.createElement("p",{className:"wrong-password"},"Your email is already linked to an account. Do you want to",c.a.createElement("span",{onClick:e.changeType}," sign in"),"?"),r&&!s&&c.a.createElement("p",null,"Thanks, ",E,". We'll review your credentials and let you know once you're able to sign in."),c.a.createElement("div",{style:{display:"none"}},c.a.createElement(N,{type:"text",name:"ip",inputName:"ip",updateValue:function(e){return D(e)}}),c.a.createElement(N,{type:"url",name:"url",inputName:"url",updateValue:function(e){return L(e.target.value)}})),c.a.createElement("div",{className:"input-double"},c.a.createElement(N,{type:"text",name:"First Name",inputName:"first",required:!0,updateValue:function(e){return f(e.target.value)}}),c.a.createElement(N,{type:"text",name:"Last Name",inputName:"last",required:!0,updateValue:function(e){return y(e.target.value)}})),c.a.createElement(N,{type:"email",name:"Email Address",inputName:"email_address",required:!0,updateValue:function(e){return S(e.target.value)}}),c.a.createElement(N,{type:"password",name:"Password",inputName:"password",required:!0,updateValue:function(e){return T(e.target.value)}}),c.a.createElement("input",{type:"submit",value:"Sign Up"}))},S=c.a.memo((function(){var e=Object(n.useState)("signin"),t=Object(m.a)(e,2),a=t[0],r=t[1];return c.a.createElement("div",{className:"admin-login-container"},c.a.createElement("div",{className:"alc-header"},c.a.createElement("p",{className:"signin"===a?"alch-active":"",onClick:function(){return r("signin")}},"Sign In"),c.a.createElement("p",{className:"signup"===a?"alch-active":"",onClick:function(){return r("signup")}},"Sign Up")),c.a.createElement("div",{className:"alc-form-container"},"signin"===a?c.a.createElement(j,null):c.a.createElement(O,{changeType:function(){r("signin"===a?"signup":"signin")}})))})),C=c.a.memo((function(){var e=Object(E.a)(["signedIn","role"]),t=Object(m.a)(e,3),a=(t[0],t[1],t[2]);return Object(n.useEffect)((function(){setTimeout((function(){a("signedIn",{path:"/"}),a("role",{path:"/"}),window.location.href="/"}),2e3)}),[]),c.a.createElement("div",{className:"admin-login-container"},c.a.createElement("div",{className:"alc-form-container"},c.a.createElement("p",{className:"alc-sign-out"},"Signing out ...")))})),x=c.a.memo((function(e){var t=e.posts,a=window.location.pathname.split("/"),n=a[a.length-1],r="events"===n||"blog"===n||"news"===n||"alerts"===n;return c.a.createElement("div",{className:"admin-content-listing"},r&&c.a.createElement("div",{className:"acl-header"},c.a.createElement("a",{href:window.location.pathname+"/new",className:"new-post"},"Create New")),t.map((function(e,t){return c.a.createElement("a",{key:t,className:"atb-single",href:window.location.pathname+"/"+e.ID},c.a.createElement("h2",null,e.name),r&&c.a.createElement("a",{href:window.location.pathname+"/delete/"+e.ID},"Delete"),e.pub_date&&c.a.createElement("p",null,"(Last updated ",e.pub_date,")"))})),0===t.length&&c.a.createElement("p",{className:"no-posts"},'You haven\'t created any posts yet. Click "Create New" above to get started.'))})),I=a(148),T=a.n(I),_=(a(361),c.a.memo((function(e){var t=e.con,a=e.handleChange,n=e.role,r=e.removeSection;return c.a.createElement("div",{className:"ac-block"},c.a.createElement("h2",null,t.name),c.a.createElement("p",{className:"acb-description"},t.description),c.a.createElement("div",{className:"atbs-editor"},c.a.createElement(T.a,{defaultValue:t.content,onChange:function(e){a({id:t.id,type:t.type,name:t.name,description:t.description,content:e})},modules:{toolbar:[[{header:[1,2,3,4,5,6,!1]}],["bold","italic","underline","strike","blockquote"],[{list:"ordered"},{list:"bullet"},{indent:"-1"},{indent:"+1"}],[{script:"sub"},{script:"super"}],[{align:[]}],["link","image"],["clean"]]},formats:["header","bold","italic","underline","strike","blockquote","list","bullet","indent","script","align","link","image"]})),"super"===n&&c.a.createElement("i",{className:"fas fa-times",onClick:function(){return r(t.id)}}))}))),A=c.a.memo((function(e){var t=e.con,a=e.handleChange,n=e.role,r=e.removeSection;return c.a.createElement("div",{className:"ac-block"},c.a.createElement("h2",null,t.name),c.a.createElement("p",{className:"acb-description"},t.description),c.a.createElement("input",{defaultValue:t.content,onChange:function(e){a({id:t.id,type:t.type,name:t.name,description:t.description,content:e.target.value})}}),"super"===n&&c.a.createElement("i",{className:"fas fa-times",onClick:function(){return r(t.id)}}))})),q=c.a.memo((function(e){var t=e.con,a=e.handleChange,r=e.role,l=e.removeSection,i=Object(n.useState)(t.content.split(",")[0]),o=Object(m.a)(i,2),s=o[0],u=o[1],p=Object(n.useState)(t.content.split(",")[1]),d=Object(m.a)(p,2),v=d[0],E=d[1],f=function(e){"start"===e.target.name?(a({id:t.id,type:t.type,name:t.name,description:t.description,content:e.target.value+","+v}),u(e.target.value)):(a({id:t.id,type:t.type,name:t.name,description:t.description,content:s+","+e.target.value}),E(e.target.value))};return c.a.createElement("div",{className:"ac-block"},c.a.createElement("h2",null,t.name),c.a.createElement("p",{className:"acb-description"},t.description),c.a.createElement("div",{className:"dates-editor"},c.a.createElement("input",{type:"datetime-local",name:"start",value:s,onChange:f,placeholder:"Start"}),c.a.createElement("input",{type:"datetime-local",name:"end",value:v,onChange:f,placeholder:"End (if applicable)"})),"super"===r&&c.a.createElement("i",{className:"fas fa-times",onClick:function(){return l(t.id)}}))})),D=a(153),M=function(e,t){var a,n,c,r,l=arguments;return d.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:return a=l.length>2&&void 0!==l[2]?l[2]:"POST",n="http://mullinashley.com",i.next=4,d.a.awrap(fetch(n+e,{method:a,body:t}));case 4:return c=i.sent,i.next=7,d.a.awrap(c.json());case 7:return r=i.sent,i.abrupt("return",r);case 9:case"end":return i.stop()}}))},V=function(e){var t=e.reloadContainer,a=Object(n.useCallback)((function(e){!function(){var a;d.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return a=new FormData,e.forEach((function(e){a.append("files[]",e)})),n.next=4,d.a.awrap(M("/admin/upload",a));case 4:t();case 5:case"end":return n.stop()}}))}()}),[]),r=Object(D.a)({onDrop:a}),l=r.getRootProps,i=r.getInputProps,o=r.isDragActive;return c.a.createElement("div",Object.assign({className:"acbic-new"},l()),c.a.createElement("input",i()),o?c.a.createElement("p",null,"Drop the files here ..."):c.a.createElement("p",null,"Drag 'n' drop files here, or click to select files"))},P=function(e){var t,a;return d.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,d.a.awrap(fetch(g+e));case 2:return t=n.sent,n.next=5,d.a.awrap(t.json());case 5:if(a=n.sent,200===t.status){n.next=8;break}throw Error(a.message);case 8:return n.abrupt("return",a);case 9:case"end":return n.stop()}}))},L=c.a.memo((function(e){var t=e.con,a=e.images,r=e.handleChange,l=e.role,i=e.removeSection,o=Object(n.useState)(t.content),s=Object(m.a)(o,2),u=s[0],p=s[1],v=Object(n.useState)("none"),E=Object(m.a)(v,2),f=E[0],g=E[1],b=Object(n.useState)(a),y=Object(m.a)(b,2),w=y[0],N=y[1],k=function(){g("block"===f?"none":"block")};return c.a.createElement("div",{className:"ac-block"},c.a.createElement("h2",null,t.name),c.a.createElement("p",{className:"acb-description"},t.description),c.a.createElement("div",{className:"acb-image"},c.a.createElement("div",{className:"acbi-active",style:{backgroundImage:"url("+h+u+")"},onClick:k}),c.a.createElement("div",{className:"acbi-container",style:{display:f}},c.a.createElement(V,{reloadContainer:function(){!function(){var e;d.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,d.a.awrap(P("/admin/get-images-from-directory"));case 2:e=t.sent,N(e);case 4:case"end":return t.stop()}}))}()}}),c.a.createElement("div",{className:"image-container"},w.map((function(e,a){return c.a.createElement("div",{key:a,name:e,className:"acbic-single",style:{backgroundImage:"url("+h+e+")"},onClick:function(e){return function(e){var a=e.target.getAttribute("name");r({id:t.id,type:t.type,name:t.name,description:t.description,content:a}),p(a),k()}(e)}})}))))),"super"===l&&c.a.createElement("i",{className:"fas fa-times",onClick:function(){return i(t.id)}}))})),R=c.a.memo((function(e){var t=e.con,a=e.images,r=e.handleChange,l=e.role,i=e.removeSection,o=Object(n.useState)(t.content),s=Object(m.a)(o,2),u=s[0],p=s[1],v=Object(n.useState)([]),E=Object(m.a)(v,2),f=E[0],g=E[1],b=Object(n.useState)("none"),y=Object(m.a)(b,2),w=y[0],N=y[1],k=Object(n.useState)(a),j=Object(m.a)(k,2),O=j[0],S=j[1];Object(n.useEffect)((function(){var e=u.split(","),t=[];e.forEach((function(e){if(e.length){var a=h+e;t.push(a)}})),g(t)}),[]),Object(n.useEffect)((function(){if(","===u.charAt(0)){var e,t=u.split(",");t.shift(),e=t.length>1?t.join(","):t[0],p(e)}}),[]);var C=function(e){r({id:t.id,type:t.type,name:t.name,description:t.description,content:e})},x=function(){N("block"===w?"none":"block")};return c.a.createElement("div",{className:"ac-block"},c.a.createElement("h2",null,t.name),c.a.createElement("p",{className:"acb-description"},t.description),c.a.createElement("div",{className:"acb-images"},c.a.createElement("div",{className:"acb-images-current"},f.map((function(e,t){return c.a.createElement("div",{key:t,name:e,className:"acbi-active",style:{backgroundImage:"url("+("/"===e.charAt(0)?e:"/"+e)+")"},onClick:x},c.a.createElement("i",{className:"far fa-times-circle",imgid:t,onClick:function(e){return function(e){e.stopPropagation();var t=e.target.getAttribute("imgid"),a=u.split(",");0===t?a.shift():a.splice(t,1);var n=a.join(",");p(n),C(n);var c=f;0===t?c.shift():c.splice(t,1),g(c)}(e)}}))})),0===f.length&&c.a.createElement("p",{className:"select-images",onClick:x},"Select Images")),c.a.createElement("div",{className:"acbi-container",style:{display:w}},c.a.createElement(V,{reloadContainer:function(){!function(){var e;d.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,d.a.awrap(P("/admin/get-images-from-directory"));case 2:e=t.sent,S(e);case 4:case"end":return t.stop()}}))}()}}),c.a.createElement("div",{className:"image-container"},O.map((function(e,t){return c.a.createElement("div",{key:t,name:e,className:"acbic-single",style:{backgroundImage:"url("+h+e+")"},onClick:function(e){return function(e){var t=e.target.getAttribute("name"),a=u;a+=a.length>0?","+t:t,p(a),C(a);var n=e.target.style.backgroundImage.slice(5,-2),c=f;c.push(n),g(c)}(e)}})}))))),"super"===l&&c.a.createElement("i",{className:"fas fa-times",onClick:function(){return i(t.id)}}))})),H=c.a.memo((function(e){var t,a=e.con,n=e.handleChange,r=e.role,l=e.removeSection,i=c.a.createRef(),o=function(e){n({id:a.id,type:a.type,name:a.name,description:a.description,content:e})};return c.a.createElement("div",{className:"ac-block"},c.a.createElement("h2",null,a.name),c.a.createElement("p",{className:"acb-description"},a.description),c.a.createElement("table",{dangerouslySetInnerHTML:{__html:a.content},contentEditable:"true",ref:i,onKeyUp:function(){clearTimeout(t),i&&i.current&&(t=setTimeout((function(){var e=i.current.innerHTML.replace("<tbody>","").replace("</tbody>","");o(e)}),3e3))}}),"super"===r&&c.a.createElement("i",{className:"fas fa-times",onClick:function(){return l(a.id)}}))})),U=c.a.memo((function(e){e.content;var t=e.addSection,a=Object(n.useState)(""),r=Object(m.a)(a,2),l=r[0],i=r[1],o=Object(n.useState)(""),s=Object(m.a)(o,2),u=s[0],p=s[1],d=Object(n.useState)(""),v=Object(m.a)(d,2),E=v[0],f=v[1],g=Object(n.useState)(""),h=Object(m.a)(g,2),b=h[0],y=h[1],w=Object(n.useState)(""),N=Object(m.a)(w,2),k=N[0],j=N[1],O=function(){var e="";if("table"===k){e+="<tr>";for(var a=0;a<E;a++){for(var n=0;n<b;n++)e+="<td></td>";e+=a!==E-1?"</tr><tr>":"</tr>"}}t({id:0,type:k,name:l,description:u,content:e})};return c.a.createElement("div",{className:"ac-block"},c.a.createElement("h2",null,"Add New Section"),c.a.createElement("p",{className:"acb-description"},"Add a new section to the page."),c.a.createElement("div",{className:"acb-new-section"},c.a.createElement("input",{type:"text",value:l,placeholder:"Title",onChange:function(e){return i(e.target.value)}}),c.a.createElement("input",{type:"text",value:u,placeholder:"Description",onChange:function(e){return p(e.target.value)}}),c.a.createElement("select",{value:k,onChange:function(e){return j(e.target.value)}},c.a.createElement("option",{value:""},"Select Type"),c.a.createElement("option",{value:"text"},"Text"),c.a.createElement("option",{value:"plain-text"},"Plain Text"),c.a.createElement("option",{value:"image"},"Image"),c.a.createElement("option",{value:"images"},"Multiple Images"),c.a.createElement("option",{value:"dates"},"Dates"),c.a.createElement("option",{value:"table"},"Table")),"table"===k&&c.a.createElement("div",null,c.a.createElement("input",{type:"number",value:E,placeholder:"# Rows (if table)",onChange:function(e){return f(e.target.value)}}),c.a.createElement("input",{type:"number",value:b,placeholder:"# Columns (if table)",onChange:function(e){return y(e.target.value)}})),c.a.createElement("div",null,l.length&&u.length?k.length&&"table"!==k?c.a.createElement("p",{className:"add-section-submit",onClick:O},"Add Section"):k.length&&E.length&&b.length?c.a.createElement("p",{className:"add-section-submit",onClick:O},"Add Section"):null:null)))})),F=c.a.memo((function(e){var t=e.con,a=e.handleChange,r=e.role,l=e.removeSection,i=Object(n.useState)(t.content),o=Object(m.a)(i,2),s=o[0],u=o[1];return c.a.createElement("div",{className:"ac-block"},c.a.createElement("h2",null,t.name),c.a.createElement("p",{className:"acb-description"},t.description),c.a.createElement("div",{className:"atbs-editor"},c.a.createElement("select",{onChange:function(e){a({id:t.id,type:t.type,name:t.name,description:t.description,content:e.target.value}),u(e.target.value)},value:s},c.a.createElement("option",{value:"Center"},"Center"),c.a.createElement("option",{value:"Top"},"Top"),c.a.createElement("option",{value:"Bottom"},"Bottom"))),"super"===r&&c.a.createElement("i",{className:"fas fa-times",onClick:function(){return l(t.id)}}))})),Y=c.a.memo((function(e){var t=e.post,a=e.content,r=e.images,l=Object(n.useState)({content:a}),i=Object(m.a)(l,2),o=i[0],s=i[1],p=Object(E.a)(["role"]),d=Object(m.a)(p,2),v=d[0],f=(d[1],function(e){s((function(t){return a[e.id].content=e.content,Object(u.a)({},t)}))}),g=function(e){window.confirm("Are you sure you want to delete this content?")&&s((function(t){delete a[e];for(var n=e+1;n<a.length;n++)a[n]&&(a[n].id=n-1);return Object(u.a)({},t)}))},h=a.map((function(e,t){switch(e.type){case"text":return c.a.createElement(_,{key:t,con:e,handleChange:f,role:v.role,removeSection:g});case"plain-text":return c.a.createElement(A,{key:t,con:e,handleChange:f,role:v.role,removeSection:g});case"dates":return c.a.createElement(q,{key:t,con:e,handleChange:f,role:v.role,removeSection:g});case"image":return c.a.createElement(L,{key:t,con:e,handleChange:f,images:r,role:v.role,removeSection:g});case"table":return c.a.createElement(H,{key:t,con:e,handleChange:f,role:v.role,removeSection:g});case"images":return c.a.createElement(R,{key:t,con:e,handleChange:f,images:r,role:v.role,removeSection:g});case"window-type":return c.a.createElement(F,{key:t,con:e,handleChange:f,role:v.role,removeSection:g});default:return null}}));return c.a.createElement("div",{className:"admin-content"},c.a.createElement("div",{className:"atbs-header"},c.a.createElement("h2",null,t.name)),c.a.createElement("form",{onSubmit:function(e){e.preventDefault();try{k(window.location.pathname,o.content);var t=window.location.pathname.split("/");t.pop();var a=t.join("/");window.location.replace(a)}catch(e){var n=window.location.pathname.split("/");n.pop();var c=n.join("/");window.location.replace(c)}}},h,"super"===v.role&&c.a.createElement(U,{content:a,addSection:function(e){e.id=a.length,s((function(t){return a[a.length]=e,Object(u.a)({},t)}))}}),c.a.createElement("input",{type:"submit",value:"Save/Update Page"})))})),B=c.a.memo((function(e){var t=e.url;return Object(n.useEffect)((function(){setTimeout((function(){window.location.href=t}),2e3)}),[]),c.a.createElement("div",{className:"admin-login-container"},c.a.createElement("div",{className:"alc-form-container"},c.a.createElement("p",{className:"alc-sign-out"},"Creating new post ...")))})),J=c.a.memo((function(e){var t=e.url;return Object(n.useEffect)((function(){setTimeout((function(){window.location.href=t}),2e3)}),[]),c.a.createElement("div",{className:"admin-login-container"},c.a.createElement("div",{className:"alc-form-container"},c.a.createElement("p",{className:"alc-sign-out"},"Deleting post ...")))})),Q=function(e){var t=e.images,a=e.url,r=Object(n.useState)(t),l=Object(m.a)(r,2),i=l[0],o=l[1];return c.a.createElement("div",{className:"admin-media-container"},c.a.createElement(V,{reloadContainer:function(){!function(){var e;d.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,d.a.awrap(P("/admin/get-images-from-directory"));case 2:e=t.sent,o(e);case 4:case"end":return t.stop()}}))}()}}),c.a.createElement("div",{className:"image-container"},i.map((function(e,t){return c.a.createElement("div",{key:t,name:e,className:"acbic-single",style:{backgroundImage:"url("+h+e+")"},onClick:function(){return function(e){var t=document.createElement("textarea");t.value=a+e,document.body.appendChild(t),t.select(),document.execCommand("copy"),document.body.removeChild(t)}(e)}})}))))},W=c.a.memo((function(e){var t=e.types,a=e.queries,r=Object(n.useState)(t[0]),l=Object(m.a)(r,2),i=l[0],o=l[1];return c.a.createElement("div",{className:"admin-vert-list"},c.a.createElement("div",{className:"avl-tabs"},t.map((function(e,t){return c.a.createElement("p",{key:t,className:i===e?"avct-active":"",onClick:function(){o(e)}},e.charAt(0).toUpperCase()+e.substr(1))})),c.a.createElement("a",{href:g+"/admin/queries/export",target:"_blank",rel:"noopener noreferrer"},"Export All")),a.map((function(e,t){return c.a.createElement("div",{className:i===e.type?"avl-post avlp-active":"avl-post",key:t,id:t},c.a.createElement("div",{className:"quote"},c.a.createElement("div",{className:"quote-fields-header"},c.a.createElement("p",null,e.data[0]," ",e.data[1]," on ",e.contact_date)),c.a.createElement("div",{className:"quote-fields"},e.data.map((function(t,a){return t&&"Ip"!==e.keys[a]?c.a.createElement("p",{key:a},e.keys[a],":",c.a.createElement("span",null,t)):null})))))})))})),z=c.a.memo((function(e){var t=e.resources,a=Object(n.useState)("latest"),r=Object(m.a)(a,2),l=r[0],i=r[1],o=function(e){i(e)};return c.a.createElement("div",{className:"admin-vert-list"},c.a.createElement("div",{className:"avl-tabs"},c.a.createElement("p",{className:"latest"===l?"avct-active":"",onClick:function(){return o("latest")}},"Latest"),c.a.createElement("p",{className:"training"===l?"avct-active":"",onClick:function(){return o("training")}},"Training"),c.a.createElement("p",{className:"performance"===l?"avct-active":"",onClick:function(){return o("performance")}},"Performance"),c.a.createElement("p",{className:"compliance"===l?"avct-active":"",onClick:function(){return o("compliance")}},"Compliance"),c.a.createElement("p",{className:"seo"===l?"avct-active":"",onClick:function(){return o("seo")}},"SEO")),c.a.createElement("div",{className:"latest"===l?"avl-content avlc-active":"avl-content"},t[0].latest.map((function(e,t){return c.a.createElement("div",{className:"avlc-post",key:t},c.a.createElement("h3",null,e.title),c.a.createElement("div",{dangerouslySetInnerHTML:{__html:e.html}}))}))),c.a.createElement("div",{className:"training"===l?"avl-content avlc-active":"avl-content"},t[0].training.map((function(e,t){return c.a.createElement("div",{className:"avlc-post",key:t},c.a.createElement("h3",null,e.title),c.a.createElement("div",{dangerouslySetInnerHTML:{__html:e.html}}))}))),c.a.createElement("div",{className:"performance"===l?"avl-content avlc-active":"avl-content"},t[0].performance.map((function(e,t){return c.a.createElement("div",{className:"avlc-post",key:t},c.a.createElement("h3",null,e.title),c.a.createElement("div",{dangerouslySetInnerHTML:{__html:e.html}}))}))),c.a.createElement("div",{className:"compliance"===l?"avl-content avlc-active":"avl-content"},t[0].compliance.map((function(e,t){return c.a.createElement("div",{className:"avlc-post",key:t},c.a.createElement("h3",null,e.title),c.a.createElement("div",{dangerouslySetInnerHTML:{__html:e.html}}))}))),c.a.createElement("div",{className:"seo"===l?"avl-content avlc-active":"avl-content"},t[0].seo.map((function(e,t){return c.a.createElement("div",{className:"avlc-post",key:t},c.a.createElement("h3",null,e.title),c.a.createElement("div",{dangerouslySetInnerHTML:{__html:e.html}}))}))))})),K=function(e){var t=e.admins,a=function(e,t){P("approve"===e?"/api/admin/admins/approved/"+t:"/api/admin/admins/removed/"+t)};return c.a.createElement("div",{className:"admin-vert-list"},t.map((function(e,t){return c.a.createElement("div",{className:"avl-post avl-admin-post",key:t},c.a.createElement("h3",null,e.first_name," ",e.last_name),c.a.createElement("p",null,"Email: ",c.a.createElement("span",null,e.email)),c.a.createElement("div",null,"pending"===e.role?c.a.createElement(c.a.Fragment,null,c.a.createElement("p",{onClick:function(){return a("approve",e.ID)}},"Approve"),c.a.createElement("p",{onClick:function(){return a("deny",e.ID)}},"Deny")):c.a.createElement("p",{onClick:function(){return a("remove",e.ID)}},"Remove Access")))})),0===t.length&&c.a.createElement("p",{className:"no-posts"},"There are no admins to manage."))},X=[{path:"/",exact:!0,component:function(){return c.a.createElement(b,null,c.a.createElement(w,null))}},{path:"/signin",component:function(){return c.a.createElement(b,null,c.a.createElement(S,null))}},{path:"/signout",component:function(){return c.a.createElement(b,null,c.a.createElement(C,null))}},{path:["/pages","/events","/blog","/meta","/alerts"],exact:!0,component:function(){return c.a.createElement(b,null,c.a.createElement(x,null))}},{path:["/events/new","/blog/new","/alerts/new"],exact:!0,component:function(){return c.a.createElement(b,null,c.a.createElement(B,null))}},{path:["/events/delete/:id","/blog/delete/:id","/alerts/delete/:id"],exact:!0,component:function(){return c.a.createElement(b,null,c.a.createElement(J,null))}},{path:["/pages/:id","/events/:id","/blog/:id","/meta/:id","/alerts/:id"],component:function(){return c.a.createElement(b,null,c.a.createElement(Y,null))}},{path:"/media",component:function(){return c.a.createElement(b,null,c.a.createElement(Q,null))}},{path:"/queries",component:function(){return c.a.createElement(b,null,c.a.createElement(W,null))}},{path:"/admins",component:function(){return c.a.createElement(b,null,c.a.createElement(K,null))}},{path:"/resources",component:function(){return c.a.createElement(b,null,c.a.createElement(z,null))}},{path:"*",component:c.a.memo((function(){return Object(n.useEffect)((function(){setTimeout((function(){window.location.replace(g)}),2e3)}),[]),c.a.createElement("div",{className:"center-block"},c.a.createElement("p",null,"Redirecting you back to ",g," ..."))}))}];function Z(e){return c.a.createElement(o.a,{path:e.path,render:function(t){return c.a.createElement(e.component,Object.assign({},t,{routes:e.routes}))}})}var G=function(){return c.a.createElement(s.a,null,c.a.createElement(i.a,null,c.a.createElement(o.c,null,X.map((function(e,t){return c.a.createElement(Z,Object.assign({key:t},e))})))))};a(364);l.a.render(c.a.createElement(G,null),document.getElementById("root"))}},[[154,1,2]]]);
//# sourceMappingURL=main.78473f52.chunk.js.map